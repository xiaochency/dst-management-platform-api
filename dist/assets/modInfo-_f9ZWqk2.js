import{a as j,u as M,c as y,r as P,B as l,d as b,e as q,f as e,w as t,i as a,m as s,t as i,j as d,p as A,s as E,k as O,n as R,F as $,y as G}from"./index-iCREqSRD.js";import{s as H}from"./index-BKIM-Nyb.js";const J={style:{display:"flex","align-items":"center",margin:"5px",width:"280px"}},K={style:{width:"200px"}},L={class:"fcc"},Q={style:{margin:"5px 0"},class:"fcc"},W={class:"fcc"},X={style:{"min-height":"50vh","margin-top":"20px"}},Y={class:"fcc"},Z={class:"fcc"},ee={class:"fcc"},te={style:{"margin-top":"20px"}},ne={__name:"modInfo",props:{mod:{type:Object,default:{}}},setup(V){const{isMobile:r}=j(),{t:f}=M(),o=V,u=y(()=>parseFloat((o.mod.vote_data.score*5).toFixed(2))),F=y(()=>o.mod.name.length>20?o.mod.name.slice(0,20)+"...":o.mod.name),h=P(!1),S=()=>{const v={id:o.mod.id,file_url:o.mod.file_url};H.mod.download.post(v).then(n=>{G(n.message)})};return(v,n)=>{const g=l("el-image"),m=l("el-tag"),k=l("el-tooltip"),w=l("el-rate"),x=l("el-button"),z=l("el-card"),B=l("PictureFilled"),p=l("el-icon"),c=l("el-descriptions-item"),C=l("sc-icon-ThumbUpFill"),D=l("sc-icon-ThumbDownFill"),N=l("sc-icon-StarFill"),T=l("el-descriptions"),U=l("el-scrollbar"),I=l("el-dialog");return b(),q($,null,[e(z,{shadow:"never"},{default:t(()=>[a("div",J,[e(g,{src:o.mod.preview_url,fit:"fill",style:{width:"80px",height:"80px"}},null,8,["src"]),a("div",K,[a("div",L,[e(k,{effect:"light","show-after":500,content:o.mod.name,placement:"top"},{default:t(()=>[e(m,{size:"small"},{default:t(()=>[s(i(F.value),1)]),_:1})]),_:1},8,["content"])]),a("div",Q,[e(w,{modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=_=>u.value=_),max:5,disabled:"","allow-half":"","show-score":""},null,8,["modelValue"])]),a("div",W,[e(x,{type:"primary",size:"small",onClick:n[1]||(n[1]=_=>h.value=!0)},{default:t(()=>[s(i(d(f)("setting.mod.download.detail")),1)]),_:1}),e(x,{type:"success",size:"small",onClick:S},{default:t(()=>[s(i(d(f)("setting.mod.download.download")),1)]),_:1})])])])]),_:1}),e(I,{modelValue:h.value,"onUpdate:modelValue":n[3]||(n[3]=_=>h.value=_),title:o.mod.name,width:"80vw"},{default:t(()=>[a("div",X,[e(T,{column:2,border:"",direction:d(r)?"vertical":"horizontal"},{default:t(()=>[e(c,{rowspan:d(r)?1:2,width:140,align:"center"},{label:t(()=>[e(p,null,{default:t(()=>[e(B)]),_:1})]),default:t(()=>[e(g,{style:A(d(r)?"width: 60px; height: 60px":"width: 120px; height: 120px"),src:o.mod.preview_url},null,8,["style","src"])]),_:1},8,["rowspan"]),e(c,{label:"ID",align:"center"},{default:t(()=>[e(m,{type:"info"},{default:t(()=>[s(i(o.mod.id),1)]),_:1})]),_:1}),e(c,{label:d(f)("setting.mod.download.size"),align:"center"},{default:t(()=>[e(m,{type:"info"},{default:t(()=>[s(i(d(E)(o.mod.size)),1)]),_:1})]),_:1},8,["label"]),e(c,{align:"center"},{label:t(()=>[a("div",Y,[e(p,null,{default:t(()=>[e(C)]),_:1})])]),default:t(()=>[e(m,{type:"info"},{default:t(()=>[s(i(o.mod.vote_data.votes_up),1)]),_:1})]),_:1}),d(r)?(b(),O(c,{key:0})):R("",!0),e(c,{align:"center"},{label:t(()=>[a("div",Z,[e(p,null,{default:t(()=>[e(D)]),_:1})])]),default:t(()=>[e(m,{type:"info"},{default:t(()=>[s(i(o.mod.vote_data.votes_down),1)]),_:1})]),_:1}),e(c,null,{label:t(()=>[a("div",ee,[e(p,null,{default:t(()=>[e(N)]),_:1})])]),default:t(()=>[e(w,{modelValue:u.value,"onUpdate:modelValue":n[2]||(n[2]=_=>u.value=_),max:5,disabled:"","allow-half":"","show-score":"","score-template":"({value}/5)"},null,8,["modelValue"])]),_:1})]),_:1},8,["direction"]),a("div",te,[e(U,{"max-height":"20vh"},{default:t(()=>[s(i(o.mod.file_description),1)]),_:1})])])]),_:1},8,["modelValue","title"])],64)}}};export{ne as default};
